<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fundy</title>
    <link rel="icon" href="/images/thumnails/logo.png" type="image/png">

    <!-- Styles -->
    <link rel="stylesheet" href="/styles/logged-user/user-header.css">
    <link rel="stylesheet" href="/styles/logged-user/sidebar.css">
    <link rel="stylesheet" href="/styles/logged-user/user-dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">

    <!-- Scripts -->
    <script src="/config.js"></script>
    <script src="/scripts/main-scripts/globalProvider.js" defer></script>
    <script src="/scripts/main-scripts/set-profile.js" defer></script>
    <script src="/scripts/user-dashboard/sidebar.js" defer></script>
    <script src="/scripts/user-dashboard/user-dasboard.js" defer></script>
    <script src="/scripts/user-dashboard/crypto-searcher.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
    <header class="header">
      <!-- Left Section: Logo and Brand Name -->
      <a href="/dashboard" class="header-left" id="header-left-side">
        <img src="/images/thumnails/logo.png" alt="Fundy Logo" class="logo">
        <h1 class="logo-text">Fundy</h1>
      </a>
    
      <!-- Center Section: Search Bar -->
      <div class="header-center">
        <!-- Search Bar with Icon -->
        <div class="search-container">
          <img src="/images/search.png" alt="Search Icon" class="search-icon">
          <input type="text" class="header-search" placeholder="Type / Search a crypto" id="crypto-search-input" autocomplete="off"/>
          <div id="search-results" class="search-results hidden"></div>
        </div>
      </div>
    
      <!-- Right Section: Gear, Notification, and User Icons -->
      <div class="header-right">
        <button class="promotion-button">
          <span>Upgrade Now</span>
          <img src="/images/icons/rocket-lunch.png" alt="Promotion Icon"/>
        </button>
        
        <!-- Gear Icon (Settings) -->
        <img src="/images/icons/setting.png" alt="Settings Icon" class="gear-icon" tabindex="0" role="button" aria-label="Settings" onclick="openSettings(event)" />
        <!-- Settings Menu -->
        <div id="settings-menu" class="settings-menu">
          <ul class="settings-links">
            <!-- LANGUAGE -->
            <li>
              <span>Language</span>
              <select class="menu-select" id="language-select">
                <option value="en">English (EN)</option>
                <option value="es">Español (ES)</option>
                <option value="fr">Français (FR)</option>
                <option value="de">Deutsch (DE)</option>
                <option value="zh">中文 (ZH)</option>
              </select>
            </li>
        
            <!-- CURRENCY -->
            <li>
              <span>Currency</span>
              <select class="menu-select" id="currency-select">
                <option value="usd">USD</option>
                <option value="btc">BTC</option>
                <option value="eur">EUR</option>
                <option value="mxn">MXN</option>
                <option value="gbp">GBP</option>
              </select>
            </li>
        
            <!-- DARK MODE -->
            <li>
              <span>Dark Mode</span>
              <label class="switch">
                <input type="checkbox" id="dark-mode-toggle" />
                <span class="slider round"></span>
              </label>
            </li>
        
            <!-- NOTIFICATION ORDER -->
            <li>
              <span>Notifications</span>
              <select class="menu-select" id="notification-order">
                <option value="recent">Most Recent</option>
                <option value="unread">Unread First</option>
                <option value="priority">Priority</option>
              </select>
            </li>
          </ul>
        </div>
        
        <!-- Notification Icon -->
        <img src="/images/icons/notification.png" alt="Notification Icon" class="notification-icon" tabindex="0" role="button" aria-label="Notifications" />
    
        <!-- User Icon -->
        <img src="/images/icons/user.png" alt="User Icon" class="user-icon" onclick="toggleMenu1(event)" id="profile-icon3" tabindex="0" role="button" aria-label="User Profile" />
        
        <!-- SUbmenu for the user -->
        <div id="profile-menu" class="profile-menu">
          <div class="profile-header">
            <img src="/images/icons/account.png" alt="User Icon" class="profile-picture" id="profile-picture"/>
            <div class="profile-info">
              <p class="profile-name" id="user-name">Loading...</p>
              <span class="profile-email" id="user-email">Loading...</span>
            </div>
          </div>
          <hr />
          <ul class="menu-links">
            <li onclick="window.location.href='/settings/profile';">
              <img src="/images/icons/user2.png" alt="Profile Icon" class="menu-icon" />
              User Profile
            </li>
            <li onclick="window.location.href='/settings/preferences';">
              <img src="/images/icons/preferences.png" alt="Settings Icon" class="menu-icon"/>
              Preferences
            </li>
            <li onclick="window.location.href='/settings/billing';" style="padding: 7px 15px;">
              <img src="/images/icons/billing_plan.png" alt="Billing & Planss Icon" class="menu-icon"/>
              Billing & Plans
              <img src="/images/icons/free.png" alt="More Info Icon" class="menu-icon-right"/>
            </li>
            <li onclick="window.location.href='/settings/billing';">
              <img src="/images/icons/shield2.png" alt="Billing & Planss Icon" class="menu-icon"/>
              Security(2FA)
            </li>
            <li onclick="log_out(event)">
              <img src="/images/icons/logout.png" alt="Logout Icon" class="menu-icon" />
              Sign Out
            </li>
            <hr />
            <li onclick="window.location.href='/terms-policies';">
                <img src="/images/terms-and-conditions.png" alt="Terms Icon" class="menu-icon" />
                Terms &amp; Policies
            </li>
            <li>
              <img src="/images/icons/help.png" alt="Help Icon" class="menu-icon" />
              Help
            </li>
          </ul>
        </div>
      </div>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <!-- Toggle Button with an ICON instead of text -->
      <button class="toggle-button" id="toggle-button">
        <img src="/images/icons/next.png" alt="Toggle Sidebar" />
      </button>

      <!-- Everything that needs to move down goes inside sidebar-content -->
      <div class="sidebar-content">
        <!-- Group 1: Dashboard & Portfolio -->
        <div class="sidebar-group">
          <button class="nav-button sidebar-selected">
            <img
              src="images/icons/dashboard-interface.png"
              alt="Dashboard Icon"
              class="sidebar-icon"
            />
            <span class="nav-text">Dashboard</span>
          </button>
          <button class="nav-button" onclick="window.location.href='/portfolio';">
            <img
              src="images/icons/pie-chart.png"
              alt="Portfolio Icon"
              class="sidebar-icon"
            />
            <span class="nav-text">My Portfolio</span>
          </button>
        </div>

        <!-- Title for Trading -->
        <h2><span class="nav-text">Trading</span></h2>

        <!-- Group 2: Trading-related items -->
        <div class="sidebar-group" onclick="window.location.href='/arbitrage-bot ';">
          <button class="nav-button">
            <img
              src="images/icons/robot.png"
              alt="Bot Icon"
              class="sidebar-icon"
            />
            <span class="nav-text">Arbitrage Bot</span>
            <span class="beta-label nav-text">BETA</span>
          </button>
          <button class="nav-button">
            <img
              src="images/icons/antenna.png"
              alt="Bot Icon"
              class="sidebar-icon"
            />
            <span class="nav-text">Signal Bot</span>
            <span class="new-label nav-text">NEW</span>
          </button>
          <button class="nav-button">
            <img
              src="images/icons/artificial-intelligence.png"
              alt="AI Strategy Bot Icon"
              class="sidebar-icon"
            />
            <span class="nav-text">AI Strategy Bot</span>
          </button>
          <button class="nav-button">
            <img
              src="images/icons/statistics.png"
              alt="Grid Bot Icon"
              class="sidebar-icon"
            />
            <span class="nav-text">Grid Bot</span>
          </button>
          <button class="nav-button">
            <img
              src="images/icons/trading.png"
              alt="Smart Trade Icon"
              class="sidebar-icon"
            />
            <span class="nav-text">Smart Trade</span>
          </button>
          <button class="nav-button">
            <img
              src="/images/icons/analytics.png"
              alt="Smart Trade Icon"
              class="sidebar-icon"
            />
            <span class="nav-text">Markets</span>
          </button>
          <button class="nav-button">
            <img
              src="images/icons/shopping-cart.png"
              alt="Marketplace Icon"
              class="sidebar-icon"
            />
            <span class="nav-text">Marketplace</span>
          </button>
        </div>

        <!-- Title for Others -->
        <h2><span class="nav-text">Others</span></h2>

        <!-- Group 3: Others -->
        <div class="sidebar-group">
          <button class="nav-button">
            <img
              src="images/icons/group.png"
              alt="Invite Friends Icon"
              class="sidebar-icon"
            />
            <span class="nav-text">Invite Friends</span>
          </button>
        </div>
      </div>

      <!-- Social Icons Row -->
      <div class="sidebar-socials">
        <a href="https://instagram.com" target="_blank" aria-label="Instagram">
          <img src="/images/companies/instagram.png" alt="Instagram" />
        </a>
        <a href="https://x.com/paumateu341" target="_blank" aria-label="X (Twitter)">
          <img src="/images/companies/twitter.png" alt="X (Twitter)"/>
        </a>
        <a href="https://youtube.com" target="_blank" aria-label="YouTube">
          <img src="/images/companies/youtube.png" alt="YouTube" />
        </a>
        <a href="https://telegram.org" target="_blank" aria-label="Telegram">
          <img src="/images/companies/telegram2.png" alt="Telegram" />
        </a>
      </div>
    </aside>

    <!-- Main Content (Removed the .main-layout wrapper; now directly main-content) -->
    <main class="main-content" id="main-content">
      <!-- Dashboard Overview Section -->
      <div class="dashboard-overview">
        <div
          class="overview-box portfolio-overview"
          aria-haspopup="true"
          aria-expanded="false"
        >
          <div class="switch-account">Switch Account</div>
          <div class="account-info">
            <img src="#" alt="Account Icon" class="account-icon"/>
            <span class="account-name">Loading...</span>
            <img src="/images/icons/down-arrow.png" alt="Down Arrow" />
          </div>
          <div class="account-balance"></div>

          <!-- Submenu for Account Selection -->
          <div class="submenu" id="portfolio-submenu">
            <ul class="submenu-list" id="portfolio-submenu-list">
              <!-- Filled via JS -->
            </ul>
          </div>
        </div>

        <!-- Other Overview Boxes -->
        <div class="overview-box box-see-data total-assets-box">
          <div class="total-assets-title" id="total-assets-title">
            Total Portfolio
          </div>
          <div class="total-assets-value" id="total-assets-value">
            $0.00
          </div>
        </div>
        <!-- 24h change box-->
        <div class="overview-box box-see-data change-24h-box"> 
          <div class="total-assets-title">24H Change</div>
          <div class="total-assets-value" id="change24">$0.00</div>
        </div>
        <div class="overview-box box-see-data change-24h-percentage-box">
          <div class="total-assets-title">24H % Change</div>
          <div class="total-assets-value" id="change24_percentage">
            +0.0000%
          </div>
        </div>
        <div class="overview-box extra-box promotion-box">Extra (promo)</div>
      </div>

      <!-- Example: The complete-register block within your page -->
      <div class="complete-register" id="complete-register">
        <div class="complete-header">
          <h2>Get started in Fundy</h2>
          <div class="progress-bar-container">
            <div class="progress-stage" id="progress-stage-1"></div>
            <div class="progress-stage" id="progress-stage-2"></div>
            <div class="progress-stage" id="progress-stage-3"></div>
            <p>Complete register</p>
          </div>
        </div>
    
        <div class="complete-register-content">
          <!-- BOX 1 -->
          <div class="box" id="cmplt-reg-box-1">
            <img src="/images/icons/connections.png" alt="Conection Icon" />
            <div class="box-text">
              <h2>Link your first exchange</h2>
              <p>Get started with Fundy and unlock smarter trading</p>
            </div>
          </div>
          
          <!-- BOX 2 -->
          <div class="box" id="cmplt-reg-box-2">
            <img src="images/icons/robot.png" alt="Example Icon" />
            <div class="box-text">
              <h2>Create your first trading bot</h2>
              <p>Quick and easy setup for automated trading</p>
            </div>
          </div>

          <!-- BOX 3 -->
          <div class="box" id="cmplt-reg-box-3">
            <img src="/images/icons/rocket-lunch.png" alt="Example Icon" />
            <div class="box-text">
              <h2>Define Your Winning Strategy</h2>
              <p>Stay ahead with tailored insights and analytics</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Welcome Section -->
      <div class="welcome-register" id="welcome-register">
        <div class="welcome-register-header">
          <h2>Welcome to Fundy!</h2>
          <p>Take control of your trading in just a few steps!</p>
        </div>
        <div class="boxes-container">
          <div class="box">
            <h2>Box1</h2>
          </div>
          <div class="box">
            <h2>Box2</h2>
          </div>
          <div class="box">
            <h2>Box3</h2>
          </div>
          <div class="box">
            <h2>Box4</h2>
          </div>
        </div>
        <button class="get-started-btn">GET STARTED<img src="/images/icons/upper-right-arrow.png" alt="Right Arrow"></button>
      </div>

      <!-- Active Bots Section -->
      <div class="active-bots">
        <h2>Active Bots</h2>
        <p>No active bots at the moment.</p>
      </div>

      <!-- Linked Accounts Section -->
      <div class="linked-accounts">
        <div class="linked-accounts-header">
          <h2>Linked Accounts</h2>
          <p>Text added here</p>
        </div>

        <div class="linked-account-content" id="linked-account-content">
          <!-- JS appends .linked-account items here -->
          
          <!-- The Connect Exchange card also goes here -->
          <div class="linked-account connect-account-card">
            <button class="connect-exchange-btn" onclick="openAddAccountModal()">
              <i class="fas fa-plus"></i> Connect an Exchange
              <img src="/images/icons/plus.png" alt="Plus Icon">
            </button>
          </div>
        </div>
      </div>

      <!-- Markets Section -->
      <div class="active-bots">
        <h2>Markets</h2>
        <p>No markets avariable at this moment</p>
      </div>


      <!-- Loading Overlay restricted to main content -->
      <div id="loading-overlay" class="loading-overlay">
        <div class="loading-bar">
          <div class="loading-bar-fill"></div>
        </div>
        <p>Loading, please wait...</p>
      </div>
    </main>

    <div id="overlay" class="overlay"></div>  

  <!-- The modal overlay for confirming deletion -->
  <div id="delete-account">
    <div class="modal-content">
      <h2>Delete Trading Account</h2>
      <div class="warning-section">
        <img src="/images/icons/warning.png" alt="Warning Icon" class="warning-icon">
        <span>Unexpected things can happen if you don't read this!</span>
      </div>
      <ul class="delete-warnings-list">
        <li>Your trading account will  be inmediately deleted.</li>
        <li>All your asociated bots will be deleted.</li>
        <li>Your historical data such as orders, trades, and positions will be deleted.</li>
        <li>You will not be able to recover the data of this asociated account.</li>
      </ul>

      <p id="delete-account-message"></p>

      <button id="confirm-delete-btn" class="confirm-deletion-acc">I undersand, delete trading account</button>
      <button id="cancel-delete-btn" class="cancel-deletion-acc">Cancel</button>
    </div>
  </div>

<!-- Trigger Button -->
<button id="open-transfer-modal-btn">Transfer Assets</button>

<!-- Modal for transferring assets -->
<div id="transfer-assets-modal">
  <div class="modal-content">
    <span class="close-btn" id="close-modal">&times;</span>
    <h2>Transfer Assets</h2>

    <form id="transfer-form">
      <div class="transfer-background">
        <div class="transfer-box">
            <div class="transfer-box-line-decorator"></div>
    
            <div class="transfer-box-flexDiv flexdiv1">
                <div class="label-container labl-cont-1">
                    <span class="label">From</span>
                    <div class="account-selector">
                        <span class="account-text">Spot</span>
                        <span class="account-icon">▼</span>
                    </div>
                </div>
            </div>
    
            <div class="transfer-box-flexDiv flexdiv2">
                <div class="label-container">
                    <span class="label">To</span>
                    <div class="account-selector">
                        <span class="account-text">USDT-M Futures</span>
                        <span class="account-icon">▼</span>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="invert-button">
            <span>⇆</span>
        </div>
    </div>
    
    <div class="coin-container">
        <div class="coin-label">Coin</div>
        <div class="coin-selection">
            <div class="coin-icon">
                <img src="/images/other_images/usdt-icon.png" alt="USDT">
            </div>
            <div class="coin-text">USDT</div>
            <div class="coin-dropdown-icon">▼</div>
        </div>
    </div>
  
    <div class="transfer-amount-container">
        <div class="transfer-amount-label">Transfer amount</div>
        <div class="transfer-amount-input">
            <input type="text" id="transfer-amount" placeholder="0.00" oninput="validateNumberInput(this)">
            <div class="transfer-amount-info">
                <span class="currency">USDT</span>
                <span class="all-btn">All</span>
            </div>
        </div>
    </div>
    <div class="available-balance">Available USDT: 00.0000</div>

  

    <div class="confirm-button-container">
      <button type="submit" id="confirm-btn">Confirm</button>
    </div>
 
    </form>
  </div>
</div>

  <script>
    function validateNumberInput(input) {
      input.value = input.value.replace(/[^0-9.]/g, ''); // Allows only numbers and decimal points
  }

  </script>

</body>
</html>
